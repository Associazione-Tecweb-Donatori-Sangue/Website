<!DOCTYPE html>
<html lang="it">
    <head>
        <title>Profilo - ATDS</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="description" content="Pagina per visualizzare il profilo dell'utente dell'Associazione Tecweb Donatori Sangue">
        <meta name="keywords" content="profilo, donatore, associazione, sangue, ATDS">
        <meta name="author" content="ATDS Team">

        <link rel="stylesheet" href="../../css/desktop.css">
        <link rel="stylesheet" href="../../css/mobile.css" media="screen and (max-width:768px)">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Jost&display=swap" rel="stylesheet">
        
        [FAVICON]

        <script src="../../js/script.js"></script>
    </head>

    <body class="page-background">
        [HEADER]

        <div id="title-standard">
            [nomeUtente]
            <h2>Ti diamo il benvenuto nella tua area riservata</h2>
        </div> 

        <main id="content" class="main-standard">
            <div class="dashboard-container">
                <div class="profile-header">
                     <div class="profile-picture [CLASS_DEFAULT]" 
                        role="button" 
                        tabindex="0" 
                        aria-label="Foto profilo dell'utente, premere per modificare">
                        <img src="[FOTO_PROFILO]" alt="Foto profilo utente" id="profile-img">                        
                        <input type="file" id="photo-upload" name="foto_profilo" accept="image/*" style="display:none;" aria-hidden="true">
                        <button type="button" class="remove-photo" id="remove-photo-btn" aria-label="Rimuovi foto profilo">&times;</button>
                    </div>
                
                    <div class="button-container">
                        <a href="../actions/logout.php" class="btn-std btn-profile"><span lang="en">Logout</span></a>
                        <a href="modifica_account.php" class="btn-std btn-profile">Modifica Utente</a>
                        <button type="button" id="btn-elimina-profilo" class="btn-delete">Elimina Profilo</button>
                    </div>
                </div>
                
                [sezioneDonatore]

                <section class="text-standard">
                    <p>Ti diamo il benvenuto. In questa sezione puoi monitorare le tue attività e gestire le prenotazioni effettuate presso le nostre sedi.</p>
                </section>

                [tabellePrenotazioni]
            </div>
        </main>
        
        <!-- Dialog per conferma eliminazione profilo -->
        <dialog id="dialog-elimina-profilo" aria-labelledby="dialog-title" aria-describedby="dialog-desc">
            <div class="dialog-content">
                <h2 id="dialog-title">Conferma eliminazione</h2>
                <p id="dialog-desc">Sei sicuro di voler eliminare il tuo account? Questa azione è irreversibile e comporterà la perdita di tutti i tuoi dati.</p>
                <div class="dialog-buttons">
                    <form action="../actions/cancellaProfilo.php" method="POST" class="dialog-form">
                        <button type="submit" class="btn-delete">Elimina definitivamente</button>
                    </form>
                    <button type="button" id="btn-annulla-elimina" class="btn-std">Annulla</button>
                </div>
            </div>
        </dialog>

        <!-- Dialog per conferma annullamento prenotazione -->
         <dialog id="dialog-annulla-prenotazione" aria-labelledby="dialog-prenotazione-title" aria-describedby="dialog-prenotazione-desc">
            <div class="dialog-content">
                <h2 id="dialog-prenotazione-title">Conferma annullamento</h2>
                <p id="dialog-prenotazione-desc">Sei sicuro di voler annullare la prenotazione del <span id="prenotazione-data"></span> alle ore <span id="prenotazione-ora"></span>?</p>
                <div class="dialog-buttons">
                    <form action="../actions/cancellaPrenotazione.php" method="POST" class="dialog-form" id="form-annulla-prenotazione">
                        <input type="hidden" name="id_prenotazione" id="hidden-id-prenotazione" value="">
                        <button type="submit" class="btn-delete">Annulla prenotazione</button>
                    </form>
                    <button type="button" id="btn-annulla-dialog-prenotazione" class="btn-std">Chiudi</button>
                </div>
            </div>
        </dialog>

        [FOOTER]
    </body>
</html>
